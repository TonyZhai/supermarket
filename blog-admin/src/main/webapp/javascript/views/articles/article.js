(function(view){    view.article = {};    view.article.createOrUpdate = {};    view.article.createOrUpdate.initPage=function(context){        $("#form").validate({            rules: {                title: {                    required: true,                    minlength:1                },                content:{                    required:true,                    minlength:10                }            }        });//        $( "#datepicker" ).datepicker({ dateFormat: 'yy-mm-dd' });        $("#tabs").tabs();        $("#btn_save").button().click(function(){            $("#form").submit();        });        $("#btn_cancel").button().click(function(){            location=context+'/articles';        });    };    view.article.list={};    view.article.list.initPage=function(context){        $("#gridTable").jqGrid({            url:context+"/articles/json",            datatype: "json",            autoencode:true,            emptyDataCaption : "No data",            height: "auto",            autowidth: true,            colNames:["Title","Content","Last Modified Username","Last Modified Date",""],            colModel:[                {name:'title', index:'title',  width:200},                {name:'content', index:'content',  width:200},                {name:'baseInfo.modifiedUsername', index:'baseInfo.modifiedUsername',  width:200},                {name:'baseInfo.modifiedDate', index:'baseInfo.modifiedDate',  width:200},                {name:'id',index:'id', width:100,                    formatter:function(id,rec,rowObject){                       return '<a href="'+context+'/articles/'+id+'?form">Edit</a> '                             +'<a href="javascript:void(0)" onclick=Blog_View.article.list.doDelete("'+id+'")>Delete</a>';                    }                }            ],            jsonReader : {                root: "data",                page: "currentPageNo",                total: "totalPageCount",                records: "totalCount",                repeatitems: false            },            viewrecords:true,            pager:"#gridPager",            multiselect:false,            prmNames :{                page:"page",                rows:"size"            }        });        view.article.list.doDelete=function(id){            $( "#dialog-confirm" ).dialog({                resizable: false,                height:140,                modal: true,                buttons: {                    "Delete item": function() {                        $.post(context+"/articles/"+id,{_method:'DELETE'},function(data){                            data.success?$("#gridTable").trigger("reloadGrid"):alert("Delete failed.");                        },"json");                        $( this ).dialog( "close" );                    },                    Cancel: function() {                        $( this ).dialog( "close" );                    }                }            });        }    };})(Blog_View)