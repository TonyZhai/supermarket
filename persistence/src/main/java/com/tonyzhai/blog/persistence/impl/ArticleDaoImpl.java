package com.tonyzhai.blog.persistence.impl;import com.tonyzhai.blog.domain.Article;import com.tonyzhai.blog.domain.base.domain.BaseInfo;import com.tonyzhai.blog.domain.base.domain.support.DataPage;import com.tonyzhai.blog.domain.base.domain.support.column.BaseInfoColumn;import com.tonyzhai.blog.persistence.ArticleDao;import com.tonyzhai.blog.persistence.base.impl.BaseDaoImpl;import org.hibernate.Criteria;import org.hibernate.criterion.Restrictions;/** * Article persistence layer impl * * @author Tony Zhai * @since 13-2-24 PM5:16 */public class ArticleDaoImpl extends BaseDaoImpl<Article> implements ArticleDao {    @Override    public void updateStatus(String id,BaseInfo.Status status) {        Article article=findById(id);        article.getBaseInfo().setStatus(status);        merge(article);    }    @Override    public DataPage<Article> paged(int start, int size) {        Criteria criteria=getSession().createCriteria(Article.class);        criteria.add(Restrictions.eq(BaseInfoColumn.status.getName(),BaseInfo.Status.active));        return pageQuery(criteria,start,size);    }}