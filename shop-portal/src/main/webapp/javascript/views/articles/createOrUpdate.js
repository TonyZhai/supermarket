(function (view) {    view.article = {};    view.article.createOrUpdate = {        Article:Backbone.Model.extend({            id:this.id,            urlRoot:Blog_View.context+"/articles",            initialize:function () {                this.bind("invalid",function(model,error){                    alert(error);                });                this.fetch();            },            defaults:{                title:"",                content:""            },            validate:function(attributes){                if(!attributes.title || attributes.title.length<1){                    return "Title must 1 character at least.";                }                if(!attributes.content || attributes.content.length<10){                    return "Title must 10 character at least.";                }            }        }),        FormView:Backbone.View.extend({            el:$("#form"),            initialize:function () {                _.bindAll(this, "render", "changed");                this.model.bind('change', this.render);                this.render();            },            template:_.template($("#createTemplate").html()),            render:function () {                $(this.el).html(this.template(this.model.toJSON()));            },            events:{                'click #btn_save':"save",                'click #btn_cancel':"cancel",                "blur input":"changed"            },            save:function () {                var that=this;                this.model.save(this.model.toJSON(), {                    success :function(){                        that.list();                    },                    error: function(){                        alert("Save failed.");                    }});            },            cancel:function () {                this.list();            },            list:function () {                window.location.href = Blog_View.context+"/articles";            },            changed:function (e) {                var target = e.currentTarget;                var data = {};                data[target.name] = target.value;                this.model.set(data);            }        }),        getInstance:function(id){            var article;            if(id){                article=new Blog_View.article.createOrUpdate.Article({id:id});            }else{                article=new Blog_View.article.createOrUpdate.Article({id:null})            }            new Blog_View.article.createOrUpdate.FormView({model:article});        }    };})(Blog_View);